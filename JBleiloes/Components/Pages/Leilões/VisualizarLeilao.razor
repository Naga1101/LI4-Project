@page "/leilao/{id}"
@using JBleiloes.Components.Layout
@using JBleiloes.data.Leiloes
@using JBleiloes.data
@layout MainLayout
@inject NavigationManager NavigationManager

<div class="title">
    <h1>@leilao.titulo</h1>
</div>

<div class="container">
    <div class="left">
        <h2>Images</h2>
        <!-- Placeholder content, you can add images here later -->
        <img src="https://via.placeholder.com/150" alt="Placeholder Image 1">
        <img src="https://via.placeholder.com/150" alt="Placeholder Image 2">
        <img src="https://via.placeholder.com/150" alt="Placeholder Image 3">
    </div>
    <div class="right">
        <form>
            <h3>Lance atual: @leilao.valor_atual</h3>
            <p>Termina em @leilao.tempo_de_leilao</p>

            <label for="inputField">Sua Licitação:</label>
            <input type="text" id="inputField" name="inputField" />

            <button type="submit">Confirmar Licitação</button>

            <div class="bottom-left">
                <button type="button" class="watchlist-button">Adicionar à Watchlist</button>
            </div>
            <div class="bottom-right">
                <p>Sold by: @leilao.vendedor</p>
            </div>
        </form>
    </div>
</div>

<style>
    .title {
        text-align: center;
        margin-bottom: 20px;
    }

    .container {
        display: flex;
    }

    .left {
        flex: 1;
        padding: 20px;
    }

    .right {
        flex: 1;
        padding: 20px;
        border: 1px solid #ccc;
        margin-left: 20px;
        position: relative;
    }

    .bottom-left {
        position: absolute;
        bottom: 20px;
        left: 20px;
    }

    .watchlist-button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .bottom-right {
        position: absolute;
        bottom: 20px;
        right: 20px;
    }
</style>

@code {
    [Parameter]
    public string id { get; set; }

    private Leilao leilao;

    JBLeiloes jb = new JBLeiloes();

    protected override void OnInitialized()
    {
        if (int.TryParse(id, out int ident))
        {
            leilao = jb.getleilaobyid(ident);
        }
        else
        {

        }
    }
}
