@page "/criarleilao"
@using JBleiloes.data
@using JBleiloes.data.Utilizadores
@inject NavigationManager NavigationManager

<PageTitle>Criar Leilão</PageTitle>

<div class="container">
    <div class="column">
        <h3>Dados do Veículo</h3>
        <div class="input-group">
            <input type="text" @bind="Marca"  placeholder="Marca" />
        </div>
        <div class="input-group">
            <input type="text" @bind="Modelo" placeholder="Modelo" />
        </div>
        <div class="input-group">
            <input type="text" @bind="Ano" placeholder="Ano" />
        </div>
        <div class="input-group">
            <input type="text" placeholder="Descrição" />
        </div>
        <div class="input-group">
            <input type="text" @bind="Quilometragem" placeholder="Quilometragem" />
        </div>
    </div>

    <div class="column">
        <h3>Informações de Leilão</h3>
        <div class="input-group">
            <input type="text" @bind="valor_inicial" placeholder="Valor Inicial" />
        </div>
        <div class="input-group">
            <input type="text" @bind="valor_minimo" placeholder="Valor Mínimo de Licitação" />
        </div>
        <div class="input-group">
            <input type="text" @bind=tempo_de_leilao placeholder="Tempo de Leilão ex:2000-10-10" />
        </div>
    </div>

    <div class="column">
        <h3>Imagens</h3>
        <div class="input-group">
            <input type="file" accept="image/*" multiple />
        </div>
        <div class="input-group">
            <input type="file" accept="image/*" multiple />
        </div>
    </div>
</div>

<style>
    .container {
        display: flex;
        justify-content: space-between;
        margin: 20px;
    }

    .column {
        flex: 1;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin: 0 10px;
    }

    .input-group {
        margin-bottom: 10px;
    }

    input {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
    }
</style>


@code {

    public int id { get; private set; }
    public string titulo { get; private set; }
    public decimal valor_inicial { get; private set; }
    public string vendedor { get; private set; }
    public decimal valor_minimo { get; private set; }
    public decimal valor_atual { get; private set; }
    public string tempo_de_leilao { get; private set; }
    public string? imagem { get; private set; }
    public string Marca { get; private set; }
    public string Modelo { get; private set; }
    public int Ano { get; private set; }
    public decimal Quilometragem { get; private set; }

    private void registo()
    {
        TimeSpan tempo = TimeSpan.Parse(tempo_de_leilao);
        JBLeiloes jb = new JBLeiloes();
        jb.registaLeilaoEveiculo(titulo, valor_inicial, SessionUser.getSessionUser().username, valor_minimo, tempo, Marca, Modelo, Ano, Quilometragem);
        NavigationManager.NavigateTo("/lotes");
    }
}